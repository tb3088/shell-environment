#ref: https://github.com/gitalias/gitalias
# do NOT use single-quotes around shell invocation, /bin/sh must be Bash

[alias]
  # add by patch & prompt
  ap = add --patch
  au = add --update
  ba = ! git.bulk_add
  bla = ! "git show-branch --all --list 2>/dev/null"
  bv = branch --verbose

  co = checkout
  ci = commit --interactive
  cm = commit --message
  dfc = diff --cached

  amend = commit --amend --message
  hist = log --pretty='format:%Cred%h%Creset %C(yellow)%d%Creset - %s %C(green)%ar%Creset %C(blue)%an%Creset' --graph --all --decorate
  ll = log --graph --oneline
  lp = log --patch
  new = checkout -b

  # review merge of B2 into B1: ${2:?source} ${1:?target}
  review = ! "f() { git merge-tree $(git merge-base $@ 2>/dev/null) $@; }; f"
  whitespace = ! "git diff-tree --check $(git hash-object -t tree /dev/null) HEAD"
  findsha = ! "f() { git branch -r --contains ${1:?commit}; }; f"
  # see .bashrc_devops for alias to 'git.render' which strips diff markers for easy cut/paste

  d = diff
  dws = diff -w
  check = diff --check
  # review of <commitA> <commitB> of <file> in split-screen Vim
  dvim = difftool -t vimdiff -y

  pf = ! "git prune-all; git pull --ff-only"
  prune-all = fetch --prune --prune-tags --force
  # alt: !git tag -d $(git tag) && git fetch --tags

  publish = ! "git push --set-upstream origin $(git rev-parse --abbrev-ref HEAD)"

  render = ! git.render
  sb = status --short --branch

  undo = reset --soft HEAD~1
  unstage = restore --staged
